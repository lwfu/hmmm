(self["webpackChunkhrmm"]=self["webpackChunkhrmm"]||[]).push([[920],{44920:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"编辑资料","left-arrow":""},on:{"click-left":function(t){return e.$router.push("/my")}}}),n("div",[n("div",{staticClass:"avatar-box",on:{click:function(t){return e.$router.push("/photo")}}},[n("p",[e._v("头像")]),n("div",{staticClass:"imss"},[n("img",{attrs:{src:e.pic}})])]),n("van-cell-group",[n("van-cell",{attrs:{title:"名称",value:e.name,"is-link":""},on:{click:function(t){e.nameShow=!0}}}),n("van-cell",{attrs:{title:"性别",value:0===e.userInfo.gender?"女":"男","is-link":""},on:{click:function(t){e.genderShow=!0}}}),n("van-cell",{attrs:{title:"地区",value:e.area,"is-link":""},on:{click:function(t){e.areaShow=!0}}}),n("van-cell",{attrs:{title:"个人简历",value:e.intro,"is-link":""},on:{click:function(t){e.resumeShow=!0}}})],1)],1),n("div",{staticClass:"exit"},[n("van-button",{on:{click:e.exitLout}},[e._v("退出登录")])],1),n("van-popup",{model:{value:e.nameShow,callback:function(t){e.nameShow=t},expression:"nameShow"}},[n("h1",[e._v("修改姓名")]),n("van-field",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("van-button",{on:{click:function(t){e.nameShow=!1}}},[e._v("取消")]),n("van-button",{on:{click:e.xiugai}},[e._v("确认")])],1),n("div",{staticClass:"popupShow"},[n("van-popup",{attrs:{position:"bottom"},model:{value:e.genderShow,callback:function(t){e.genderShow=t},expression:"genderShow"}},[n("van-nav-bar",{attrs:{title:"修改性别","left-text":"取消"},on:{"click-left":function(t){e.genderShow=!1}}}),n("van-cell",{attrs:{title:"男"},on:{click:function(t){return e.genderSubmit(1)}}}),n("van-cell",{attrs:{title:"女"},on:{click:function(t){return e.genderSubmit(0)}}})],1)],1),n("van-popup",{model:{value:e.areaShow,callback:function(t){e.areaShow=t},expression:"areaShow"}},[n("h1",[e._v("修改地区")]),n("van-field",{model:{value:e.area,callback:function(t){e.area=t},expression:"area"}}),n("van-button",{on:{click:function(t){e.areaShow=!1}}},[e._v("取消")]),n("van-button",{on:{click:e.areaEdit}},[e._v("确认")])],1),n("van-popup",{model:{value:e.resumeShow,callback:function(t){e.resumeShow=t},expression:"resumeShow"}},[n("h1",[e._v("个人简历")]),n("van-field",{model:{value:e.intro,callback:function(t){e.intro=t},expression:"intro"}}),n("van-button",{on:{click:function(t){e.resumeShow=!1}}},[e._v("取消")]),n("van-button",{on:{click:e.resume}},[e._v("确认")])],1)],1)},a=[],o=n(67906),i=n(16198),c=n(93019),s=(n(68309),n(16165)),u=n(34665),l={data:function(){return{nameShow:!1,name:this.$store.state.userInfo.nickname,genderShow:!1,area:this.$store.state.userInfo.area,areaShow:!1,intro:this.$store.state.userInfo.intro,resumeShow:!1,pic:""}},computed:(0,c.Z)({},(0,u.Se)(["userInfo"])),methods:{xiugai:function(){var e=this;return(0,i.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.name&&e.name!==e.userInfo.nickname){t.next=3;break}return e.$toast.fail("请修改后再提交"),t.abrupt("return");case 3:return t.next=5,(0,s.dz)({nickname:e.name});case 5:e.$toast.success("修改成功"),e.nameShow=!1,e.$store.commit("SET_USERINFO",(0,c.Z)((0,c.Z)({},e.userInfo),{},{name:e.name}));case 8:case"end":return t.stop()}}),t)})))()},genderSubmit:function(e){var t=this;return(0,i.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.userInfo.gender!==e){n.next=3;break}return t.$toast.fail("请修改后再提交"),n.abrupt("return");case 3:return n.next=5,(0,s.dz)({gender:e});case 5:t.$store.commit("SET_USERINFO",(0,c.Z)((0,c.Z)({},t.userInfo),{},{gender:e})),t.$toast.success("修改成功"),t.genderShow=!1;case 8:case"end":return n.stop()}}),n)})))()},areaEdit:function(){var e=this;return(0,i.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.area&&e.area!==e.userInfo.area){t.next=3;break}return e.$toast.fail("请修改后再提交"),t.abrupt("return");case 3:return t.next=5,(0,s.dz)({area:e.area});case 5:e.$toast.success("修改成功"),e.areaShow=!1,e.$store.commit("SET_USERINFO",(0,c.Z)((0,c.Z)({},e.userInfo),{},{area:e.area}));case 8:case"end":return t.stop()}}),t)})))()},resume:function(){var e=this;return(0,i.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.intro&&e.intro!==e.userInfo.intro){t.next=3;break}return e.$toast.fail("请修改后再提交"),t.abrupt("return");case 3:return t.next=5,(0,s.dz)({intro:e.intro});case 5:e.$toast.success("修改成功"),e.resumeShow=!1,e.$store.commit("SET_USERINFO",(0,c.Z)((0,c.Z)({},e.userInfo),{},{intro:e.intro}));case 8:case"end":return t.stop()}}),t)})))()},exitLout:function(){var e=this;this.$dialog.confirm({title:"确认退出登录？"}).then((function(){e.$store.dispatch("logout","/login"),e.$toast.success({message:"退出登录成功",duration:300})})).catch((function(e){return e}))}},created:function(){this.pic="http://hmmm.zllhyy.cn".concat(this.$store.getters.userInfo.avatar)}},f=l,h=n(1001),v=(0,h.Z)(f,r,a,!1,null,"00e8d7e4",null),m=v.exports},49337:function(e,t,n){var r=n(82109),a=n(19781),o=n(53887),i=n(45656),c=n(31236),s=n(86135);r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,r=i(e),a=c.f,u=o(r),l={},f=0;while(u.length>f)n=a(r,t=u[f++]),void 0!==n&&s(l,t,n);return l}})},93019:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(47941),n(82526),n(57327),n(41539),n(38880),n(54747),n(49337);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);