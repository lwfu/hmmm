"use strict";(self["webpackChunkhrmm"]=self["webpackChunkhrmm"]||[]).push([[73],{3073:function(t,i,s){s.r(i),s.d(i,{default:function(){return u}});var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.cityPositions["全国"]?s("div",{staticClass:"question"},[s("van-nav-bar",{scopedSlots:t._u([{key:"title",fn:function(){return[s("van-dropdown-menu",[s("van-dropdown-item",{ref:"dropdownRef",attrs:{"get-container":".question"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 面试宝典 "),s("span",{staticClass:"region"},[t._v(t._s(t.city))])]},proxy:!0}],null,!1,3908778756)},[s("van-index-bar",[t._l(t.citys,(function(i,e){return[s("van-index-anchor",{key:i.id,attrs:{index:i.key}}),t._l(i.children,(function(e,a){return s("van-cell",{key:e+i.id,attrs:{title:e},on:{click:function(i){return t.changeCity(e)}}})}))]}))],2)],1)],1)]},proxy:!0}],null,!1,3512096130)}),s("van-cell",{staticClass:"question-tabs",attrs:{border:!1}},[s("van-tabs",{attrs:{type:"card","title-active-color":"#fff","title-inactive-color":"#333","swipe-threshold":"0"},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.cityPositions[t.city],(function(t){return s("van-tab",{key:t.id,attrs:{title:t.name,name:t.id}})})),1)],1),t.bol?s("div",[s("div",{staticClass:"question-box"},[t._m(0),s("div",{staticClass:"middle"},[s("van-circle",{attrs:{rate:t.rate,speed:t.speed,color:t.gradientColor,"layer-color":"#FEEFF1"},model:{value:t.currentRate,callback:function(i){t.currentRate=i},expression:"currentRate"}},[s("div",{staticClass:"text"},[s("span",[t._v("顺序刷题")]),s("span",[t._v(t._s(t.currentQuestion)+"/"+t._s(t.total))])])])],1),t._m(1)]),s("div",{staticClass:"question-total"},[s("p",{staticClass:"text"},[t._v("累计收录")]),s("p",{staticClass:"count"},[t._v(t._s(t.total))])]),s("div",{staticClass:"question-interview"},[s("van-button",{attrs:{color:"#00B8D3",to:"/interview/"+t.active+"/"+t.city}},[t._v(" 模拟面试 ")])],1)]):t._e()],1):t._e()},a=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"left"},[s("div",{staticClass:"top failure"},[s("i",{staticClass:"iconfont icon-shitibaocuo"}),s("span",{staticClass:"icon-text"},[t._v("常错题库")])]),s("div",{staticClass:"bottom star"},[s("i",{staticClass:"iconfont icon-qiyeyewu"}),s("span",{staticClass:"icon-text"},[t._v("企业题库")])])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"right"},[s("div",{staticClass:"top balance"},[s("i",{staticClass:"iconfont icon-shitishoucang"}),s("span",{staticClass:"icon-text"},[t._v("收藏题库")])]),s("div",{staticClass:"bottom orders"},[s("i",{staticClass:"iconfont icon-bishitiku"}),s("span",{staticClass:"icon-text"},[t._v("已答题库")])])])}],n=s(4612),o={name:"question",data(){return{active:"",city:"",currentRate:0,gradientColor:{"0%":"rgba(228,1,55,0.70)","100%":"rgba(228,1,55,0.30)"},cityPositions:{},citys:[],total:0,currentQuestion:0,bol:!0,flashTime:1500,rate_total:0,rate_curQuestion:0}},computed:{rate(){return this.rate_curQuestion/this.rate_total*100},speed(){return this.rate/this.flashTime*1e3}},watch:{city(t){const i={active:this.active,city:t};sessionStorage.setItem("prevCategory",JSON.stringify(i)),this.getQuestionCount()},active(t){const i={active:t,city:this.city};sessionStorage.setItem("prevCategory",JSON.stringify(i)),this.getQuestionCount()}},methods:{changeCity(t){this.city=t,this.$refs.dropdownRef.toggle(),this.$nextTick((()=>{}))},addCount(t,i,s){!i&&(this[t]=0),setTimeout((()=>{this[t]<i&&(this[t]++,this.addCount(t,i,s))}),s)},async getQuestionCount(){if(this.bol=!1,this.active&&this.city){try{const{data:t}=await(0,n.w)({type:this.active,city:this.city});this.total=0,this.currentQuestion=0,this.rate_total=0,this.rate_total=t.length;const i=JSON.parse(sessionStorage.getItem("answerList"))||[];this.rate_curQuestion=i.find((t=>+t.key.type===this.active&&t.key.city===this.city))?.value.length||0,this.addCount("currentQuestion",this.rate_curQuestion,this.flashTime/50),this.addCount("total",this.rate_total,this.flashTime/t.length)}catch(t){}this.bol=!0}}},async created(){this.active=JSON.parse(sessionStorage.getItem("prevCategory"))?.active||"",this.city=JSON.parse(sessionStorage.getItem("prevCategory"))?.city||"全国";try{if(this.$store.getters.cityInfo.citys)return this.cityPositions=this.$store.getters.cityInfo.cityPositions,void(this.citys=this.$store.getters.cityInfo.citys);const{data:t}=await(0,n.c)();let i=[],s=0;for(const[a,n]of Object.entries(t.citys))i.push({id:s,key:a,children:n}),s++;this.cityPositions=t.cityPositions,this.citys=i;const e={cityPositions:this.cityPositions,citys:this.citys};this.$store.dispatch("savaCityInfo",e)}catch(t){this.requestErr=!0}},destroyed(){const t={active:this.active,city:this.city};sessionStorage.setItem("prevCategory",JSON.stringify(t))}},c=o,r=s(1001),l=(0,r.Z)(c,e,a,!1,null,"6e75a2b6",null),u=l.exports},4612:function(t,i,s){s.d(i,{c:function(){return a},w:function(){return n}});var e=s(5972);const a=()=>(0,e.Z)({url:"/interview/filters"}),n=t=>(0,e.Z)({url:"/interview/questions",params:t,needCancel:!0})}}]);